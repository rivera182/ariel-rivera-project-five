(this["webpackJsonpariel-rivera-project-five"]=this["webpackJsonpariel-rivera-project-five"]||[]).push([[0],{18:function(e,t,n){e.exports=n.p+"static/media/news.6c9dbcb5.jpg"},21:function(e,t,n){e.exports=n(44)},26:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(13),i=n.n(c),l=(n(26),n(2)),o=n(14),s=n(15),u=n(19),m=n(16),g=n(20),p=n(3),f=n.n(p),d=function(e){var t=e.menus;return r.a.createElement("header",null,r.a.createElement("div",{className:"wrapper"},r.a.createElement("nav",{className:"nav-menu"},r.a.createElement("h1",null,"News"),r.a.createElement("ul",null,r.a.createElement("li",{onClick:function(){return e.menuClick("country")}},"Country"),r.a.createElement("li",{onClick:function(){return e.menuClick("category")}},"Category")))),r.a.createElement("div",{className:"sub-menu"},r.a.createElement("div",{className:"wrapper"},t.country?r.a.createElement("ul",{className:"countries"},r.a.createElement("li",{onClick:function(){return e.countryChange("ca")}},"Canada"),r.a.createElement("li",{onClick:function(){return e.countryChange("us")}},"USA"),r.a.createElement("li",{onClick:function(){return e.countryChange("gb")}},"UK")):null,t.category?r.a.createElement("ul",{className:"categories"},r.a.createElement("li",{onClick:function(){return e.categoryChange("business")}},"Business"),r.a.createElement("li",{onClick:function(){return e.categoryChange("sports")}},"Sports"),r.a.createElement("li",{onClick:function(){return e.categoryChange("technology")}},"Technology"),r.a.createElement("li",{onClick:function(){return e.categoryChange("entertainment")}},"Entertainment")):null)))},y=n(17),h=n.n(y),E=n(18),v=n.n(E),C=function(e){return r.a.createElement("main",null,r.a.createElement("div",{className:"wrapper"},r.a.createElement("h2",null,""===e.title?"Top Articles":"Top Articles for ".concat(e.title.toUpperCase())),r.a.createElement("div",{className:"articles-container"},r.a.createElement(h.a,{breakpointCols:{default:4,1100:3,700:2,500:1},className:"my-masonry-grid",columnClassName:"my-masonry-grid-column"},e.news.map((function(t,n){return n<40?r.a.createElement("div",{key:n,className:"single-news-container"},r.a.createElement("div",{className:"remove-post",onClick:function(){return e.removePost(t.title)}},r.a.createElement("i",{class:"fas fa-times-circle"})),r.a.createElement("div",{className:"news-cell",onClick:function(){return e.articleClick(t.url)}},t.urlToImage?r.a.createElement("img",{src:t.urlToImage,alt:""}):r.a.createElement("img",{src:v.a,alt:"No available image"}),r.a.createElement("h3",null,t.title),r.a.createElement("p",null,t.description),r.a.createElement("p",null,t.author))):null}))))))},w=function(e){e.menus;return r.a.createElement("footer",null,r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"footer"},r.a.createElement("p",null,"Ariel Rivera 2020"))))},k=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).categoryChange=function(t){console.log(t),e.setState({isLoading:!0,category:t}),f()({method:"GET",url:"http://newsapi.org/v2/top-headlines",responseType:"json",params:{apiKey:"1138489a75ea4722ae7c10e95975584f",country:"ca",category:t,pageSize:"100",page:1}}).then((function(n){var a=n.data.articles.filter((function(e,t,n){return n.findIndex((function(t){return t.title===e.title}))===t}));e.setState({news:a,isLoading:!1,title:t})}))},e.countryChange=function(t){var n;e.setState({isLoading:!0,country:t}),f()({method:"GET",url:"http://newsapi.org/v2/top-headlines",responseType:"json",params:(n={apiKey:"1138489a75ea4722ae7c10e95975584f",country:"ca"},Object(l.a)(n,"country",t),Object(l.a)(n,"pageSize","100"),Object(l.a)(n,"page",1),n)}).then((function(n){var a,r=n.data.articles.filter((function(e,t,n){return n.findIndex((function(t){return t.title===e.title}))===t}));"ca"===t?a="Canada":"us"===t?a="United States":"gb"===t&&(a="England"),e.setState({news:r,isLoading:!1,title:a})}))},e.removeDisplayPost=function(t){var n=e.state.news.filter((function(e){return e.title!==t}));e.setState({news:n})},e.menuClickHandler=function(t){"country"===t?e.setState({menus:{category:!1,country:!e.state.menus.country}}):"category"===t&&e.setState({menus:{category:!e.state.menus.category,country:!1}})},e.articleLink=function(e){window.open(e,"_blank")},e.state={news:[],isLoading:!0,category:"",country:"",title:"",menus:{category:!1,country:!1}},e}return Object(g.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;f()({method:"GET",url:"http://newsapi.org/v2/top-headlines",responseType:"json",params:{apiKey:"1138489a75ea4722ae7c10e95975584f",language:"en",pageSize:"100",page:1}}).then((function(t){var n=t.data.articles.filter((function(e,t,n){return n.findIndex((function(t){return t.title===e.title}))===t}));e.setState({news:n,isLoading:!1})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(d,{categoryChange:this.categoryChange,countryChange:this.countryChange,menuClick:this.menuClickHandler,menus:this.state.menus}),this.state.isLoading?r.a.createElement("div",{className:"loading-container"},r.a.createElement("i",{class:"fas fa-sync fa-spin"})):r.a.createElement(C,{news:this.state.news,removePost:this.removeDisplayPost,articleClick:this.articleLink,title:this.state.title}),r.a.createElement(w,null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.85d137ba.chunk.js.map